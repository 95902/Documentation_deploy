import{_ as e,o as i,c as s,O as t}from"./chunks/framework.1bc11817.js";const g=JSON.parse(`{"title":"Initialisation d'un rôle Ansible avec ansible-galaxy","description":"","frontmatter":{},"headers":[],"relativePath":"creation_role.md","filePath":"creation_role.md"}`),n={name:"creation_role.md"},l=t('<h1 id="initialisation-d-un-role-ansible-avec-ansible-galaxy" tabindex="-1">Initialisation d&#39;un rôle Ansible avec ansible-galaxy <a class="header-anchor" href="#initialisation-d-un-role-ansible-avec-ansible-galaxy" aria-label="Permalink to &quot;Initialisation d&#39;un rôle Ansible avec ansible-galaxy&quot;">​</a></h1><ol><li><p>Ouvrez un terminal ou une invite de commandes dans le répertoire playbooks.</p></li><li><p>Utilisez la commande suivante pour initialiser un nouveau rôle Ansible en spécifiant le nom du rôle et le chemin où vous souhaitez créer le rôle :</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ansible-galaxy init nom_du_projet</span></span></code></pre></div></li><li><p>Une fois la commande exécutée, un nouveau répertoire portant le nom du rôle sera créé dans le répertoire actuel. Ce répertoire contiendra la structure de base du rôle Ansible, y compris les répertoires defaults, files, handlers, meta, tasks, templates, tests et vars, ainsi qu&#39;un fichier README.md.</p></li><li><p>installer les rôles &quot;ansistrano.deploy&quot; et &quot;ansistrano.rollback&quot;, Utilisez la commande suivante :</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ansible-galaxy install ansistrano.deploy ansistrano.rollback</span></span></code></pre></div><p>Cette commande téléchargera les rôles depuis la galerie Ansible Galaxy et les installera dans le répertoire de votre projet.</p></li></ol><details class="details custom-block"><summary>Explications de la structure de dossier :</summary><ul><li><p><strong>defaults/</strong> : Ce répertoire contient le fichier <code>main.yml</code> qui définit les variables par défaut pour le rôle.</p></li><li><p><strong>files/</strong> : Ce répertoire contient les fichiers statiques nécessaires au rôle. Par exemple, <code>config.ini</code> et un sous-répertoire <code>scripts/</code> contenant des scripts exécutables.</p></li><li><p><strong>handlers/</strong> : Ce répertoire contient le fichier <code>main.yml</code> qui définit les gestionnaires (handlers) utilisés dans le rôle.</p></li><li><p><strong>meta/</strong> : Ce répertoire contient le fichier <code>main.yml</code> qui fournit des métadonnées sur le rôle, telles que les dépendances avec d&#39;autres rôles.</p></li><li><p><strong>tasks/</strong> : Ce répertoire contient le fichier <code>main.yml</code> qui contient les tâches à exécuter pour le rôle.</p></li><li><p><strong>templates/</strong> : Ce répertoire contient les modèles de fichiers utilisés dans le rôle. Par exemple, <code>template.conf.j2</code> est un fichier de modèle utilisant la syntaxe Jinja2.</p></li><li><p><strong>tests/</strong> : Ce répertoire contient les fichiers de test pour le rôle. Il peut inclure un répertoire <code>inventory/</code> contenant des fichiers d&#39;inventaire de test, un fichier <code>requirements.yml</code> spécifiant les dépendances de test, et un fichier <code>test.yml</code> décrivant les scénarios de test.</p></li><li><p><strong>vars/</strong> : Ce répertoire contient les fichiers <code>main.yml</code> et <code>secrets.yml</code> qui définissent les variables utilisées dans le rôle. Le fichier <code>secrets.yml</code> peut contenir des variables sensibles qui doivent être protégées.</p></li><li><p><strong>README.md</strong> : Ce fichier contient la documentation du rôle, décrivant son objectif, son utilisation et d&#39;autres informations pertinentes.</p></li></ul><p>Veuillez noter que cette structure de dossier est une suggestion courante pour un rôle Ansible, mais elle peut être adaptée en fonction des besoins spécifiques du projet.</p></details>',3),a=[l];function r(o,c,d,p,u,m){return i(),s("div",null,a)}const h=e(n,[["render",r]]);export{g as __pageData,h as default};
